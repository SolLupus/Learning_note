# php复杂语法RCE



##### **函数、方法、静态类变量和类常量只有在 PHP 5 以后才可在 \*{$}\* 中使用。然而，只有在该字符串被定义的命名空间中才可以将其值作为变量名来访问。只单一使用花括号 (\*{}\*) 无法处理从函数或方法的返回值或者类常量以及类静态变量的值。**

我们先来弄懂``{${phpinfo()}}``的原理。查阅了php手册以及一些资料得知，通常一个变量的定义必须是以下划线或者英文字母开头，且变量名只能包含下划线字母和数字。很明显{phpinfo()}里面包含了圆括号，并不是一个变量名，然而却可以执行。是因为在php中，可以接受函数的返回值作为变量名，而phpinfo()的返回值为TRUE也就是说``{${phpinfo()}``}其实等于$TRUE。我们来验证一下。
`var_dump(1 == phpinfo()); //返回bool(true)并且返回php相关信息`
`var_dump($TRUE == ${phpinfo()}); //返回bool(true)并且返回php相关信息和两条警告`

通过这个验证我们可以获取两条信息，一、在以函数返回值为变量名称定义变量时，函数先执行并返回相关值，{}花括号获取返回值并连接$定义变量。二、$TRUE==${phpinfo()}，说明{${phpinfo()}}并不是定义了一个变量$phpinfo()而是$TRUE。